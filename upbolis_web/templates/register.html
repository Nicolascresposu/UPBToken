{% extends "base.html" %}
{% load static %}

{% block title %}Registro · UPBolis{% endblock %}

{% block content %}
<div class="auth-card-single page-fade" data-tilt-container>

  <header class="auth-card-single__header auth-card-single__header--center">
    <span class="top-card__eyebrow">Crear cuenta</span>
    <h1 class="auth-card-single__title">Registro</h1>
    <p class="auth-card-single__subtitle">Solo correos <b>@upbolis.com</b>.</p>
  </header>

  <div class="auth-body">
    {% if messages %}
      {% for message in messages %}
        {% if 'register' in message.tags %}
          <div class="{% if 'success' in message.tags %}alert-success{% elif 'warning' in message.tags %}alert-warning{% else %}alert-error{% endif %}">
            {{ message }}
          </div>
        {% endif %}
      {% endfor %}
    {% endif %}

    <form method="post" action="{% url 'register' %}" class="auth-form">
      {% csrf_token %}

      <div class="field" data-field>
        <label for="name">Nombre</label>
        <input
          id="name"
          name="name"
          type="text"
          autocomplete="name"
          required
          value="{{ request.POST.name|default:'' }}"
        />
      </div>

      <div class="field" data-field>
        <label for="email">Correo</label>
        <input
          id="email"
          name="email"
          type="email"
          placeholder="usuario@upbolis.com"
          autocomplete="email"
          required
          pattern="^[A-Za-z0-9._%+\-]+@upbolis\.com$"
          title="Solo se permiten correos @upbolis.com"
          value="{{ request.POST.email|default:'' }}"
        />
        <small class="field__hint">Debe terminar en <b>@upbolis.com</b></small>
      </div>

      <div class="field" data-field>
        <label for="password">Contraseña</label>
        <input
          id="password"
          name="password"
          type="password"
          placeholder="Mínimo 8 caracteres"
          autocomplete="new-password"
          required
        />
      </div>

      <div class="field" data-field>
        <label for="password_confirmation">Confirmar</label>
        <input
          id="password_confirmation"
          name="password_confirmation"
          type="password"
          placeholder="Repite la contraseña"
          autocomplete="new-password"
          required
        />
      </div>

      <button type="submit" class="btn btn-primary btn--full" data-ripple>
        Crear cuenta
      </button>

      <div class="auth-options">
        <span></span>
        <a class="auth-link js-page-transition" href="{% url 'login' %}">
          ¿Ya tienes cuenta? Inicia sesión
        </a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
